<h2 id="ğŸ“-webclientë¥¼-ì´ìš©í•œ-ì™¸ë¶€-api-í˜¸ì¶œì—-ëŒ€í•œ-í…ŒìŠ¤íŠ¸">ğŸ“Â WebClientë¥¼ ì´ìš©í•œ ì™¸ë¶€ API í˜¸ì¶œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸</h2>
<p><code>WebClient</code>ë¥¼ ì‚¬ìš©í•œ ì™¸ë¶€ API í˜¸ì¶œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„¸ ê°€ì§€ ì£¼ìš” ì ‘ê·¼ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤.</p>
<ol>
<li><strong>ì‹¤ì œ ì™¸ë¶€ API í˜¸ì¶œ (í†µí•© í…ŒìŠ¤íŠ¸)</strong><ul>
<li>ì‹¤ì œ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê³  ì‘ë‹µì„ ê²€ì¦í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ì‹¤ í™˜ê²½ì—ì„œì˜ ë™ì‘ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</li>
<li>í•˜ì§€ë§Œ ì™¸ë¶€ API í˜¸ì¶œì€ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ í…ŒìŠ¤íŠ¸ê°€ ë¶ˆì•ˆì •í•  ìˆ˜ ìˆê³ , ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ í”¼í•œë‹¤.</li>
</ul>
</li>
<li><strong>Mocking WebClient (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)</strong><ul>
<li>ì™¸ë¶€ API í˜¸ì¶œì„ <code>WebClient</code>ë¥¼ í†µí•´ ëª¨í‚¹(mocking)í•˜ì—¬ ì‹¤ì œ API í˜¸ì¶œì„ í•˜ì§€ ì•Šê³  ì‘ë‹µì„ ì‹œë®¬ë ˆì´ì…˜í•œë‹¤.</li>
<li>ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ë¹ ë¥´ê³ , ì™¸ë¶€ API ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë©°, ì‹¤íŒ¨ê°€ ì™¸ë¶€ APIì™€ ë¬´ê´€í•˜ê²Œ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
</ul>
</li>
<li><strong>MockWebServerë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ (Mock ì„œë²„ í…ŒìŠ¤íŠ¸)</strong><ul>
<li><code>MockWebServer</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ API ì„œë²„ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê°€ì§œ ì„œë²„ë¥¼ êµ¬ì„±í•˜ê³ , <code>WebClient</code>ê°€ í˜¸ì¶œí•  URLì„ í•´ë‹¹ ì„œë²„ë¡œ ì„¤ì •í•˜ì—¬ ì™¸ë¶€ API í˜¸ì¶œì„ ëª¨í‚¹í•œë‹¤.</li>
<li>ì´ ë°©ë²•ì€ ì™¸ë¶€ API ì„œë²„ì˜ ì‘ë‹µì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³ , <code>WebClient</code>ì˜ ë™ì‘ì„ ë³´ë‹¤ ì„¸ë°€í•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.</li>
<li>ì—¬ê¸°ì„œëŠ” í•´ë‹¹ ë°©ë²•ì„ ì´ìš©í•œ ì˜ˆì‹œë¥¼ ì„¤ëª…í•œë‹¤.</li>
</ul>
</li>
</ol>
<hr />
<h2 id="ğŸ“-mockwebserverë¥¼-ì´ìš©í•œ-í…ŒìŠ¤íŠ¸-ì‘ì„±">ğŸ“Â MockWebServerë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ì‘ì„±</h2>
<p><code>MockWebServer</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ APIì˜ ì‘ë‹µì„ ëª¨í‚¹í•˜ê³  <code>WebClient</code>ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<h3 id="1-buildgradle-ì˜ì¡´ì„±-ì¶”ê°€">1. build.gradle ì˜ì¡´ì„± ì¶”ê°€</h3>
<pre><code>    testImplementation 'com.squareup.okhttp3:mockwebserver:4.9.3'</code></pre><h3 id="2-mockwebserver-ì„¤ì •">2. MockWebServer ì„¤ì •</h3>
<p>ê·¸ ë‹¤ìŒ <code>MockWebServer</code>ë¥¼ ì„¤ì •í•˜ì—¬ ê°€ì§œ API ì„œë²„ë¥¼ ì‹œì‘í•œë‹¤. ì„œë²„ì˜ URLì„ <code>WebClient</code>ì˜ base URLë¡œ ì„¤ì •í•˜ì—¬, <code>WebClient</code>ê°€ ì‹¤ì œë¡œ í•´ë‹¹ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í•œë‹¤.</p>
<pre><code class="language-java">@BeforeAll
static void setUpServer() throws IOException {
    mockWebServer = new MockWebServer();
    mockWebServer.start();
    objectMapper = new ObjectMapper();
}

@AfterAll
static void tearDownServer() throws IOException {
    mockWebServer.shutdown();
}</code></pre>
<h3 id="3-webclient-ì„¤ì •">3. WebClient ì„¤ì •</h3>
<p>í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì—ì„œ <code>WebClient</code>ë¥¼ ì„¤ì •í•˜ê³ , <code>MockWebServer</code>ì˜ URLì„ base URLë¡œ ì„¤ì •í•˜ì—¬ ì™¸ë¶€ API í˜¸ì¶œì„ ì‹œë®¬ë ˆì´ì…˜í•œë‹¤.</p>
<pre><code class="language-java">@BeforeEach
void setUp() {
    WebClient webClient = WebClient.builder().baseUrl(mockWebServer.url("/").toString()).build();
    initService = new InitService(userRepository, roomRepository, webClient);
}</code></pre>
<h3 id="4-mock-ì‘ë‹µ-ì„¤ì •">4. Mock ì‘ë‹µ ì„¤ì •</h3>
<p>ê° í…ŒìŠ¤íŠ¸ì—ì„œ <code>MockWebServer</code>ì— íŠ¹ì • ì‘ë‹µì„ ì„¤ì •í•˜ê³ , <code>WebClient</code>ê°€ í•´ë‹¹ ì‘ë‹µì„ ë°›ë„ë¡ í•œë‹¤. ì‘ë‹µì€ JSON í˜•ì‹ìœ¼ë¡œ ì„¤ì •í•˜ì—¬, ì‹¤ì œ ì™¸ë¶€ API ì‘ë‹µì„ í‰ë‚´ ë‚¸ë‹¤.</p>
<pre><code class="language-java">@Test
void Valid_api_response_is_returned() throws Exception {
    // Given: Mock ì‘ë‹µ ìƒì„±
    FakerApiResponse mockResponse = new FakerApiResponse();
    mockResponse.setData(List.of(new FakerUser(1, "John Doe", "john@example.com")));

    mockWebServer.enqueue(new MockResponse()
            .setBody(objectMapper.writeValueAsString(mockResponse))
            .addHeader("Content-Type", "application/json"));

    InitRequest request = new InitRequest(123, 1);

    // When
    FakerApiResponse response = initService.getFakerApiResponse(request);

    // Then
    assertNotNull(response);
    assertEquals(1, response.getData().size());
    assertEquals("John Doe", response.getData().get(0).getUsername());
}</code></pre>
<h3 id="5-í…ŒìŠ¤íŠ¸-ì‹¤í–‰">5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰</h3>
<p>í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ, <code>WebClient</code>ëŠ” <code>MockWebServer</code>ì—ì„œ ì œê³µí•˜ëŠ” ì‘ë‹µì„ ë°›ê²Œ ë˜ë©°, ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤. ì™¸ë¶€ APIê°€ ì•„ë‹Œ ê°€ì§œ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ìƒí™©ì´ë‚˜ ì™¸ë¶€ API ìƒíƒœì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.</p>
<hr />
<h2 id="ğŸ“-ê²°ë¡ ">ğŸ“Â ê²°ë¡ </h2>
<p>ì´ ë°©ì‹ì€ ì™¸ë¶€ APIì™€ì˜ ì—°ë™ì„ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸í•  í•„ìš” ì—†ì´, API í˜¸ì¶œì˜ ê²°ê³¼ì™€ ë™ì‘ì„ ì•ˆì •ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ë°©ë²•ì´ë‹¤. <code>MockWebServer</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì™„ì „íˆ ì°¨ë‹¨í•˜ê³ , íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” API ì‘ë‹µì„ ì‰½ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.</p>